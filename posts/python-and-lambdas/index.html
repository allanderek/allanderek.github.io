<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Python and Lambdas | Coding Diet</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://allanderek.github.io/posts/python-and-lambdas/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Allan Clark">
<link rel="prev" href="../minor-refactorings/" title="Minor Refactorings" type="text/html">
<meta property="og:site_name" content="Coding Diet">
<meta property="og:title" content="Python and Lambdas">
<meta property="og:url" content="https://allanderek.github.io/posts/python-and-lambdas/">
<meta property="og:description" content="I come from a functional programming background, so I a lot of love for functions and so-called anonymous functions or lambdas. However, I have realised that I don't make use of Python's lambda syntax">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-02-10T14:39:20Z">
<meta property="article:tag" content="lambda">
<meta property="article:tag" content="python">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://allanderek.github.io/">

                <span id="blog-title">Coding Diet</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>
                </li>
<li>
<a href="../../stories/curriculum-vitae/">CV</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.md" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Python and Lambdas</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Allan Clark
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2017-02-10T14:39:20Z" itemprop="datePublished" title="2017-02-10 14:39">2017-02-10 14:39</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/python-and-lambdas.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.md" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I come from a functional programming background, so I a lot of love for functions and so-called anonymous functions or lambdas. However, I have realised that I don't make use of Python's lambda syntax much, and I wanted to articulate why. This may mostly sound pretty negative towards lambdas, but bear in mind I'm certainly not against lambdas in general.</p>
<p>A <code>lambda</code> expression could always be avoided by simply defining the function in question. So the question becomes when is a <code>lambda</code> more readable than a definition? That is almost always because the function you're attempting to create is so simple that the definition syntax gets in the way. It is often used when the function in question is going to be used as an argument to some method. For example the <code>sort</code> method on a list takes as argument they <code>key</code> to be used when comparing the elements. So if you have a list of items and you want to sort them by their prices you can do something such as:</p>
<pre class="code literal-block"><span></span><span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">price</span><span class="p">)</span>
</pre>


<p>We could of course have gotten the use of <code>lambda</code> with a definition:</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">price</span><span class="p">)</span>
</pre>


<p>This is not <strong>quite</strong> equivalent because it introduces a new name into the current scope that would not otherwise have been there, but I don't ever recall reaching for a <code>lambda</code> expression in order to avoid polluting the name space.</p>
<p>We could even define a generic higher-order function to make a function out of attribute access.</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">f_attr</span><span class="p">(</span><span class="n">attr_name</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">attr_getter</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">attr_getter</span>

<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">f_attr</span><span class="p">(</span><span class="s1">'price'</span><span class="p">))</span>
</pre>


<p>This is surely worse than the first two attempts, but if you have multiple sorts to do, then using definitions can get tedious:</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">price</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">price</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">quantity</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">quantity</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">quantity</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">margin</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">margin</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">margin</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
</pre>


<p>as compared with the lambda version:</p>
<pre class="code literal-block"><span></span><span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">price</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">margin</span><span class="p">)</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
</pre>


<p>The <code>f_attr</code> version is similar:</p>
<pre class="code literal-block"><span></span><span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">f_attr</span><span class="p">(</span><span class="s1">'price'</span><span class="p">))</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">f_attr</span><span class="p">(</span><span class="s1">'quantity'</span><span class="p">))</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
<span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">f_attr</span><span class="p">(</span><span class="s1">'margin'</span><span class="p">))</span>
<span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
</pre>


<p>In fact that could be done with a loop:</p>
<pre class="code literal-block"><span></span><span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'price'</span><span class="p">,</span> <span class="s1">'quantity'</span><span class="p">,</span> <span class="s1">'margin'</span><span class="p">]:</span>
    <span class="n">list_of_items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">f_attr</span><span class="p">(</span><span class="n">attribute</span><span class="p">))</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">list_of_items</span><span class="p">)</span>
</pre>


<p>I think the <code>lambda</code> version is at least sometimes more readable. However, I often miss the self-documenting nature of a definition, in that giving the function a name acts as some pretty decent documentation especially for the kind of simple function you might otherwise use a <code>lambda</code> expression for.</p>
<p>So, for a <code>lambda</code> expression to be the right choice, the function in question has to be so simple as to not benefit from the extra documentation afforded by its name (such as simple attribute access). </p>
<p>I just don't seem to find myself in that situation very often. Perhaps I'm just not making my own functions general enough by accepting functions as arguments.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/lambda/" rel="tag">lambda</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../minor-refactorings/" rel="prev" title="Minor Refactorings">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="allanderek",
            disqus_url="https://allanderek.github.io/posts/python-and-lambdas/",
        disqus_title="Python and Lambdas",
        disqus_identifier="cache/posts/python-and-lambdas.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="allanderek";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2017         <a href="mailto:allan.clark@gmail.com">Allan Clark</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
